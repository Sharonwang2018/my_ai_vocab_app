version: 1
frontend:
  phases:
    preBuild:
      commands:
        - flutter pub get
    build:
      commands:
        - flutter build web --release --dart-define=SUPABASE_URL=$SUPABASE_URL --dart-define=SUPABASE_ANON_KEY=$SUPABASE_ANON_KEY
  artifacts:
    baseDirectory: build/web
    files:
      - '**/*'
  cache:
    paths:
      - .dart_tool/flutter_build/
      - $HOME/.pub-cache

